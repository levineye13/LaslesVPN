(()=>{"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const t=function t(n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e(this,"open",(function(){r.modalHtmlElement.classList.add(r._openedModal),r._setEventListener()})),e(this,"close",(function(){r.modalHtmlElement.classList.remove(r._openedModal),r._removeEventListener()})),e(this,"_setEventListener",(function(){r._buttonClose.addEventListener("click",r._handleButtonClose),r.modalHtmlElement.addEventListener("click",r._handleScreenClose),document.addEventListener("keydown",r._handleEscClose)})),e(this,"_removeEventListener",(function(){r._buttonClose.removeEventListener("click",r._handleButtonClose),r.modalHtmlElement.removeEventListener("click",r._handleScreenClose),document.removeEventListener("keydown",r._handleEscClose)})),e(this,"_handleButtonClose",(function(){return r.close()})),e(this,"_handleScreenClose",(function(e){e.target.classList.contains(r._openedModal)&&r.close()})),e(this,"_handleEscClose",(function(e){27===e.keyCode&&r.close()})),this.modalHtmlElement=document.querySelector(n),this._modalType=this.modalHtmlElement.classList[0],this._buttonClose=this.modalHtmlElement.querySelector(".button-close"),this._openedModal="".concat(this._modalType,"_opened")};function n(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const i=function e(t,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"_showInputError",(function(e){e.nextElementSibling.textContent=e.validationMessage})),o(this,"_hideInputError",(function(e){e.nextElementSibling.textContent=""})),o(this,"_showRequestMessage",(function(e){i._form.querySelector("p").textContent=e})),o(this,"_setSubmitState",(function(e,t){return e?t.removeAttribute("disabled"):t.setAttribute("disabled",!0)})),o(this,"_hasInvalidInput",(function(e){return e.some((function(e){return!e.validity.valid}))})),o(this,"_checkInputValidity",(function(e){e.validity.valid?i._hideInputError(e):i._showInputError(e)})),o(this,"_resetForm",(function(e){e.forEach((function(e){return e.value=""}))})),o(this,"_checkFormValidity",(function(e,t){var n=!i._hasInvalidInput(e);i._setSubmitState(n,t)})),o(this,"_setInputListeners",(function(e,t){e.forEach((function(n){n.addEventListener("input",(function(){i._checkInputValidity(n),i._checkFormValidity(e,t)}))}))})),o(this,"_checkPasswordMatch",(function(e,t){return e.value!==t.value?(i._showRequestMessage("Password mismatch."),!1):(i._showRequestMessage(""),!0)})),o(this,"_submitForm",(function(e,t){i._setSubmitState(!1,e),i._resetForm(t),i._close&&i._close()})),o(this,"validate",(function(){if(i._form){var e=Array.from(i._form.elements),t=e.filter((function(e){return"INPUT"===e.nodeName})),r=t.reduce((function(e,t){return"password"===t.type?[].concat(n(e),[t]):e}),[]),o=e.find((function(e){return"BUTTON"===e.nodeName&&"submit"===e.type}));i._setInputListeners(t,o),i._checkFormValidity(t,o),i._form.addEventListener("submit",(function(e){e.preventDefault(),(1===r.length||2===r.length&&i._checkPasswordMatch.apply(i,n(r)))&&i._submitForm(o,t)}))}})),this._htmlElementWithForm=t,this._form=this._htmlElementWithForm.querySelector("form"),this._close=r};function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l,d,f,m,h,p,y,_,b,v,E=function(e){return e.reduce((function(e,t){var n,r=!1,o="",i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(t.className);try{for(i.s();!(n=i.n()).done;){var a=n.value,l=/[a-z]/i.test(a);l&&r?(r=!0,o+=a):l&&!r?(r=!0,o+=a.toUpperCase()):r=!1}}catch(e){i.e(e)}finally{i.f()}return s(s({},e),{},c({},"".concat(o[0].toLowerCase()).concat(o.slice(1)),t))}),{})},g=E([".header__button-menu",".header__signin",".header__signup",".sidebar__signin",".sidebar__signup"].map((function(e){return document.querySelector(e)}))),w=[".popup_type_login",".popup_type_register",".sidebar"].map((function(e){return{instance:new t(e),className:e}})),S=E(w);!function(e){e.forEach((function(e){new i(e.modalHtmlElement,e.close).validate()}))}(w.map((function(e){return e.instance}))),d=S,f=(l=g).headerButtonMenu,m=l.headerSignin,h=l.headerSignup,p=l.sidebarSignin,y=l.sidebarSignup,_=d.sidebar,b=d.popupTypeLogin,v=d.popupTypeRegister,f.addEventListener("click",_.instance.open),m.addEventListener("click",b.instance.open),h.addEventListener("click",v.instance.open),p.addEventListener("click",b.instance.open),y.addEventListener("click",v.instance.open)})();